name: Daily TX Push

on:
    workflow_dispatch: # Allows you to run this workflow manually from the Actions tab
    schedule:
        # daily-tx-push (e.g., daily at 12 UTC, 8 ET)
        - cron: "0 0 * * *"

concurrency:
    group: "${{ github.workflow }}"
    cancel-in-progress: true

permissions:
    contents: write # publish a GitHub release
    pages: write # deploy to GitHub Pages
    issues: write # comment on released issues
    pull-requests: write # comment on released pull requests

jobs:
    daily-tx-push:
        runs-on: ubuntu-latest

        env:
            # Organization-wide secrets
            TX_TOKEN: ${{ secrets.TX_TOKEN }}

        steps:
            - uses: actions/checkout@v4
            - uses: actions/setup-node@v3
              with:
                  cache: "npm"
                  node-version-file: ".nvmrc"

            - name: Install dependencies
              run: npm ci
# todo...
